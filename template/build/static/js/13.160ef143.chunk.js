(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1005:function(e,t,n){"use strict";n.r(t);var a=n(64),o=n(65),r=n(40),i=n(66),c=n(67),l=n(198),s=n(0),u=n.n(s),p=n(68),f=n(806),d=n(805),m=n(575),y=n(1013),b=n(130),v=n(595),h=n(596),g=n(978),O=n.n(g),E=n(197),C=new(0,n(267).Store),j=function(e){function t(){var e,n,o;Object(a.a)(this,t);for(var c=arguments.length,s=new Array(c),y=0;y<c;y++)s[y]=arguments[y];return Object(r.a)(o,(n=o=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s))),o.state={data:[],loading:!0},o.columns=[{title:"\u7528\u6237ID",dataIndex:"user_id",width:200},{title:"\u7528\u6237\u540d",dataIndex:"username",width:100},{title:"\u7528\u6237\u89d2\u8272",dataIndex:"role_desc",width:100},{title:"\u89d2\u8272ID",dataIndex:"role_id",width:100},{title:"\u6240\u5c5e\u6e20\u9053\u5546",dataIndex:"distributor_id",width:100},{title:"\u662f\u5426\u6709\u6548",dataIndex:"is_active",width:100,render:function(e){return u.a.createElement("span",{style:{color:e?"":"red"}},e?"\u662f":"\u5426")}},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return u.a.createElement("span",null,u.a.createElement(f.a,{title:"\u786e\u5b9a\u5220\u9664\u7528\u6237?",onConfirm:o.confirm.bind(Object(l.a)(Object(l.a)(o)),t.user_id),okText:"\u662f",cancelText:"\u5426"},u.a.createElement("a",{href:"javascript:;"},"\u5220\u9664")),u.a.createElement(d.a,{type:"vertical"}),u.a.createElement(p.b,{to:"/users/edit?".concat(t.user_id)},"\u4fee\u6539"))}}],o.confirm=function(e){E.a.usersDel(e).then(function(e){200===e.code?(o.getUsers(),m.a.success("\u5220\u9664\u6210\u529f")):m.a.success(e.message)}).catch(function(e){console.log(e)})},o.componentDidMount=function(){o.getUsers()},o.getUsers=function(){E.a.getUsers().then(function(e){if(200===e.code){var t=e.data,n=e.total;t.forEach(function(e){e.key=e.user_id}),o.setState({data:t,loading:!1,total:n})}else m.a.error(e.message)})},n))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement(y.a,{bordered:!0,columns:this.columns,dataSource:this.state.data,pagination:{total:this.state.total||10}})}}]),t}(u.a.Component),w=function(e){function t(){var e,n,o;Object(a.a)(this,t);for(var c=arguments.length,l=new Array(c),s=0;s<c;s++)l[s]=arguments[s];return Object(r.a)(o,(n=o=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l))),o.state={invite_code:""},o.componentDidMount=function(){},o.getInviteCode=function(){E.a.getInviteCode().then(function(e){200===e.code?o.setState({invite_code:e.data.invite_code}):m.a.error(e.message)})},o.copy=function(){var e=o.state.invite_code,t=document.createElement("p"),n=document.createTextNode(e);t.id="copyMy",t.style.opacity="0",t.style.position="absolute",t.appendChild(n);var a=document.getElementById("copyId");a.appendChild(t),document.getElementById("copyMy");var r=document.getElementById("copyMy");window.getSelection().selectAllChildren(r),document.execCommand("Copy"),m.a.success("\u5df2\u590d\u5236\u5230\u7c98\u8d34\u7248",.5),a.removeChild(t)},n))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return 5==C.get("role_id")?u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,{type:"primary",onClick:this.getInviteCode,className:O.a.btnBottom},"\u751f\u6210\u9080\u8bf7\u7801"),this.state.invite_code?u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",{id:"copyId"},"\u9080\u8bf7\u7801:"),u.a.createElement(v.a,null,u.a.createElement(h.a,{span:3},u.a.createElement("p",{className:O.a.invitation},this.state.invite_code)),u.a.createElement(h.a,{span:12},u.a.createElement(b.a,{className:O.a.copy,onClick:this.copy,type:"primary",shape:"circle",icon:"copy",size:"large"}),u.a.createElement("span",{className:O.a.span,onClick:this.copy},"\u590d\u5236")))):""):0==C.get("role_id")?u.a.createElement(u.a.Fragment,null,u.a.createElement(p.b,{to:"/users/add"},u.a.createElement(b.a,{type:"primary",onClick:this.addUser,className:O.a.btnBottom},"\u6dfb\u52a0\u7528\u6237")),u.a.createElement(j,null)):void 0}}]),t}(s.Component);t.default=w},595:function(e,t,n){"use strict";var a=n(264);t.a=a.a},596:function(e,t,n){"use strict";var a=n(196);t.a=a.a},805:function(e,t,n){"use strict";var a=n(0),o=n(4),r=n.n(o),i=n(9);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(n[a[o]]=e[a[o]])}return n};t.a=function(e){return a.createElement(i.a,null,function(t){var n,o=t.getPrefixCls,i=e.prefixCls,u=e.type,p=void 0===u?"horizontal":u,f=e.orientation,d=void 0===f?"":f,m=e.className,y=e.children,b=e.dashed,v=s(e,["prefixCls","type","orientation","className","children","dashed"]),h=o("divider",i),g=d.length>0?"-"+d:d,O=r()(m,h,"".concat(h,"-").concat(p),(l(n={},"".concat(h,"-with-text").concat(g),y),l(n,"".concat(h,"-dashed"),!!b),n));return a.createElement("div",c({className:O},v),y&&a.createElement("span",{className:"".concat(h,"-inner-text")},y))})}},806:function(e,t,n){"use strict";var a=n(0),o=n(55),r=n(628),i=n(13),c=n(130),l=n(107),s=n(142),u=n(9);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(n[a[o]]=e[a[o]])}return n},h=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=m(t).call(this,e),(n=!i||"object"!==p(i)&&"function"!==typeof i?y(o):i).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(y(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(y(n),e)},n.onVisibleChange=function(e){n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var o=n.props,r=o.okButtonProps,i=o.cancelButtonProps,l=o.title,s=o.cancelText,u=o.okText,p=o.okType,d=o.icon;return a.createElement("div",null,a.createElement("div",{className:"".concat(e,"-inner-content")},a.createElement("div",{className:"".concat(e,"-message")},d,a.createElement("div",{className:"".concat(e,"-message-title")},l)),a.createElement("div",{className:"".concat(e,"-buttons")},a.createElement(c.a,f({onClick:n.onCancel,size:"small"},i),s||t.cancelText),a.createElement(c.a,f({onClick:n.onConfirm,type:p,size:"small"},r),u||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,o=n.props,i=o.prefixCls,c=o.placement,u=v(o,["prefixCls","placement"]),p=t("popover",i),d=a.createElement(l.a,{componentName:"Popconfirm",defaultLocale:s.a.Popconfirm},function(e){return n.renderOverlay(p,e)});return a.createElement(r.a,f({},u,{prefixCls:p,placement:c,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:d,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,a["Component"]),n=t,i=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(o=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return a.createElement(u.a,null,this.renderConfirm)}}])&&d(n.prototype,o),i&&d(n,i),t}();h.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:a.createElement(i.a,{type:"exclamation-circle",theme:"filled"})},Object(o.polyfill)(h),t.a=h},978:function(e,t,n){e.exports={invitation:"_1Ks1G_yiV7AbNEMKzJDbKv",copy:"X2ILNSKBiO3Nhqpjj9AKQ",span:"_1OXJzZDZ0Dy1LCT5sshmIz",btnBottom:"_38CTCumWwOvHbEKT3rgFQs"}}}]);
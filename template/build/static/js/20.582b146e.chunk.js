(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1009:function(e,a,t){"use strict";t.r(a);var n=t(64),l=t(65),c=t(40),o=t(66),i=t(67),s=t(0),r=t.n(s),d=t(68),u=t(980),g=t.n(u),m=t(595),b=t(596),h=t(1018),y=t(1016),f=t(999),p=t(593),E=t.n(p),k=t(658),v=t(1013),_=t(1001),w=f.a.TabPane,L=function(e){function a(){var e,t,l;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return Object(c.a)(l,(t=l=Object(c.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(s))),l.state={data:[],loading:!0,loading2:!0,activeKey:"1"},l.today="today",l.columns=[{title:"\u56fe\u7247ID",dataIndex:"label_id",key:"label_id"},{title:"\u56fe\u7247",dataIndex:"image_url",key:"image_url",render:function(e,a){return r.a.createElement("img",{className:g.a.imgStyles,src:e})}},{title:"\u6807\u6ce8\u65f6\u95f4",dataIndex:"labels",key:"labels",render:function(e,a){return r.a.createElement("span",null,e.label_time)}},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return r.a.createElement("span",null,r.a.createElement(d.b,{to:"labels?".concat(window.location.search.slice(1),"&label_id=").concat(a.label_id,"&today=").concat(l.today,"&page=").concat(l.state.page,"&labeled=1&failed=").concat(l.failed)},"\u67e5\u770b"))}}],l.getTime=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" 00:00:00"},l.getLabeled=function(e,a,t){var n={};Object.assign(n,l.params),e&&(n.start_dt=l.getTime()),a&&(n.page=a),t&&(n.check_deny=!0),k.a.getLabelBrowser(E.a.stringify(n)).then(function(e){if(200===e.code){var t=e.data;t.forEach(function(e){e.key=e.label_id}),l.setState({data:t,loading2:!1,totalLists:e.total,page:a||1})}})},l.onChange=function(e){l.getLabeled(null,e)},l.onChangeToday=function(e){l.getLabeled("today",e)},l.callback=function(e){l.setState({activeKey:e}),"1"===e&&(l.failed=!1,l.today="today",l.getLabeled("today")),"2"===e&&(l.failed=!1,l.today=null,l.getLabeled()),"3"===e&&(l.failed=1,l.today=null,l.getLabeled(null,null,!0))},t))}return Object(i.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,a={task_id:window.location.search.slice(1)};this.params=a,k.a.getMyLabel(E.a.stringify(a)).then(function(a){console.log(222,a),200===a.code&&e.setState({loading:!1,total:a.data.total,total_today:a.data.total_today,check_deny:a.data.total_check_deny})}),this.getLabeled("today")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:g.a.example},r.a.createElement("div",{className:g.a.marginBottom},this.state.loading?"":r.a.createElement(m.a,{gutter:16},r.a.createElement("a",{onClick:function(){e.callback("1")}},r.a.createElement(b.a,{span:5},r.a.createElement(h.a,null,r.a.createElement(y.a,{title:"\u4eca\u65e5\u6807\u6ce8\u91cf",value:this.state.total_today,precision:0,valueStyle:{color:"#5eb90c"}})))),r.a.createElement("a",{onClick:function(){e.callback("2")}},r.a.createElement(b.a,{span:5},r.a.createElement(h.a,null,r.a.createElement(y.a,{title:"\u7d2f\u8ba1\u6807\u6ce8\u91cf",value:this.state.total,precision:0,valueStyle:{color:"#2699cf"}})))),r.a.createElement("a",{onClick:function(){e.callback("3")}},r.a.createElement(b.a,{span:5},r.a.createElement(h.a,null,r.a.createElement(y.a,{title:"\u8d28\u68c0\u4e0d\u5408\u683c",value:this.state.check_deny,precision:0,valueStyle:{color:"#ee5b5b"}})))))),r.a.createElement(f.a,{activeKey:this.state.activeKey,defaultActiveKey:"1",onChange:this.callback},r.a.createElement(w,{tab:"\u4eca\u65e5\u6807\u6ce8\u91cf",key:"1"},r.a.createElement(v.a,{columns:this.columns,dataSource:this.state.data,loading:this.state.loading2,pagination:!1}),r.a.createElement(_.a,{showQuickJumper:!0,className:g.a.page,onChange:this.onChangeToday,defaultPageSize:20,defaultCurrent:1,total:this.state.totalLists})),r.a.createElement(w,{tab:"\u7d2f\u8ba1\u6807\u6ce8\u91cf",key:"2"},r.a.createElement(v.a,{columns:this.columns,dataSource:this.state.data,loading:this.state.loading2,pagination:!1}),r.a.createElement(_.a,{showQuickJumper:!0,className:g.a.page,onChange:this.onChange,defaultPageSize:20,defaultCurrent:1,total:this.state.totalLists})),r.a.createElement(w,{tab:"\u8d28\u68c0\u4e0d\u5408\u683c",key:"3"},r.a.createElement(v.a,{columns:this.columns,dataSource:this.state.data,loading:this.state.loading2,pagination:!1}),r.a.createElement(_.a,{showQuickJumper:!0,className:g.a.page,onChange:this.onChange,defaultPageSize:20,defaultCurrent:1,total:this.state.totalLists}))))}}]),a}(s.Component);a.default=L},658:function(e,a,t){"use strict";var n=t(22),l=t(105).a.version;a.a={getLabel:function(e){return n.b("".concat(l,"label"),e)},postLabel:function(e){return n.c("".concat(l,"label"),e)},getMyLabel:function(e){return n.b("".concat(l,"label/my"),e)},getLabelBrowser:function(e){return n.b("".concat(l,"label/browser"),e)}}},980:function(e,a,t){e.exports={example:"_3DWohQKAyo4l_HyyOruAGp",marginBottom:"_1_ZYsBHUJ_r1qYMNX1WXjR",page:"_35fnmymANY9ZRGJL2cMePF",imgStyles:"_253lWlggSA0A8xaA3z8Rd3"}}}]);